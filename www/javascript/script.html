<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

<script>

  $(document).ready(function() {
    // Hover Effect
    function addHoverEffect() {
      $('.grid-link, .info').hover(function() { // Mouseover 
          handleHover($(this), true);
        }, function() { // Mouseout
          handleHover($(this), false);
        });
    }
  
    function handleHover(element, isHover) {
      const linkId = element.attr('id');
      const associatedLink = $('.grid-link[id="' + linkId + '"]');
      const associatedInfo = $('.info[id="' + linkId + '"]');
  
      associatedLink.toggleClass('hovered', isHover);
      associatedInfo.toggleClass('hovered', isHover);
    }
  
    // Click Handlers
    function addClickHandlers() {
      $('.info').click(function() {
        window.location.href = $(this).attr('href');
      });
    }
  
    // Collapse Handlers
    function addCollapseHandlers() {
      $('.list-group-item-action').click(function() {
        const $this = $(this);
        const group = $this.closest('.list-group'); 
        const targetId = $this.data('bs-target') || $this.attr('href').split('#')[1]; 
        const $target = $(`#${targetId}`); // Get the target collapsible element
  
        group.find('.collapse').each(function() {
          const $collapsible = $(this);
          if ($collapsible.attr('id') !== targetId) {
            $collapsible.collapse('hide'); 
          } else if ($collapsible.hasClass('show')) { 
            // If already open, don't do anything
          } else {
            $target.collapse('show'); // Open only if not already open
          }
        });
      });
    }
  
    // Toggle Content
    function toggleContent(selectedId) {
      $("#dallas, #dallaspeers, #compareall").hide();
      $("#" + selectedId).show();
    }
  
    // Initial display & Event Listener (no changes needed)
    toggleContent('dallas'); 
    $('.btn-group-toggle input[type="radio"]').on('change', function() {
      const selectedId = $(this).attr('id').slice(4);
      toggleContent(selectedId);
    });
  
    // Execute on DOM ready
    addHoverEffect();
    addClickHandlers();
    addCollapseHandlers();
  });

  document.addEventListener('DOMContentLoaded', function () {
        var myModal = new bootstrap.Modal(document.getElementById('tutorialModal'), {
            keyboard: false
        });
        myModal.show();
    });

</script>